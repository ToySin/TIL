# 생산자 소비자 문제
- 생산자와 소비자가 공유 데이터 버퍼를 사용하여 데이터를 교환하는 상황에 발생한다.
- 생산자는 공유 버퍼에 여유 공간이 있을 때만 데이터를 넣을 수 있다.
- 소비자는 공유 버퍼에 데이터가 있을 때만 데이터를 소비할 수 있다.

## 무슨 문제?
- 버퍼 관리: 공유 버퍼는 제한된 크기를 가지고 있다. 생산자는 버퍼가 가득 찼을 때 기다려야하고, 소비자는 버퍼가 비어있을 때 가디려야한다.
- 경쟁 상태: 여러 생산자나 여러 소비자가 동시에 버퍼에 접근할 경우 데이터의 일관성이 깨질 수 있다. 이를 위해 동기화가 필요하다.
- 교착 상태: 특정 조건에서 생산자와 소비자가 서로를 기다리는 상태에 빠질 수 있다.

## 해결 방법
- 세마포 3개를 사용해서 해결한다.
  - 비어있는 버퍼 세마포
  - 차있는 버퍼 세마포
  - 뮤텍스 세마포(바이너리 세마포)
### 생산자
- 생산자는 비어있는 버퍼 세마포에 wait() 연산을 수행한다.
- 통과한 경우 뮤텍스 세마포에 wait() 연산을 수행한다.
- 쓰기 작업을 수행한다.
- 뮤텍스 세마포에 signal() 연산을 수행한다.
- 차있는 버퍼 세마포에 signal() 연산을 수행한다.
### 소비자
- 소비자는 차있는 버퍼 세마포에 wait() 연산을 수행한다.
- 통과한 경우 뮤텍스 세마포에 wait() 연산을 수행한다.
- 읽기 작업을 수행한다.
- 뮤텍스 세마포에 signal() 연산을 수행한다.
- 비어있는 버퍼 세마포에 signal() 연산을 수행한다.

## 주의사항
- 생산자-소비자 문제는 1:1 관계를 나타낸다.
- 생산자와 소비자가 한명씩이고, 공유 데이터 버퍼의 크기는 N인 상황이다.
- N:N 관계를 해결하기 위해서는 또 다른 기술이 필요하다.
